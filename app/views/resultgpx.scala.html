@(pointsTotal: Integer, pointsDeleted: Integer, pointsLeft: Integer, status: String, lon: Double, lat: Double)
<!DOCTYPE html>
<html>

    <head>
        <title>Results</title>

        <style>
                .map {
                    height: 400px;
                    width: 500px;
                    padding: 3px;
                    display: inline-block;
                }
        </style>

        <script src="https://openlayers.org/en/v4.5.0/build/ol.js"></script>

    </head>

    <body>
        <h4>@status!</h4>
        <p> Number of points initially: @pointsTotal<br>
            @pointsDeleted points have been deleted<br>
            @pointsLeft points left
        </p>

        <div> Now download updated file <a href = "/download" download = yourResult.gpx> here </a></div>

        <!--map rendering is based on the following example
        https://openlayers.org/en/latest/examples/gpx.html -->

        <div id="original" class="map">
            <h3>Original</h3>
        </div>

        <div id="fixed" class="map">
            <h3>Fixed</h3>
        </div>

        <br>
        <a href = "/">Try again</a>

        <script>
                var raster = new ol.layer.Tile({
                    source: new ol.source.OSM()
                });

                var style = {
                    'MultiLineString': new ol.style.Style({
                        stroke: new ol.style.Stroke({
                            color: '#ff0d00',
                            width: 2
                        })
                    })
                };

                var vector = new ol.layer.Vector({
                    source: new ol.source.Vector({
                        url: '/source.gpx',
                        format: new ol.format.GPX()
                    }),
                    style: function (feature) {
                        return style[feature.getGeometry().getType()];
                    }
                });

                var map = new ol.Map({
                    layers: [raster, vector],
                    target: document.getElementById('original'),
                    view: new ol.View({
                        center: ol.proj.transform([@lon, @lat], 'EPSG:4326', 'EPSG:3857'),
                        zoom: 12
                    })
                });
        </script>

        <script>
                var raster = new ol.layer.Tile({
                    source: new ol.source.OSM()
                });

                var style1 = {
                    'MultiLineString': new ol.style.Style({
                        stroke: new ol.style.Stroke({
                            color: '#0400a5',
                            width: 2
                        })
                    })
                };

                var vector = new ol.layer.Vector({
                    source: new ol.source.Vector({
                        url: '/result.gpx',
                        format: new ol.format.GPX()
                    }),
                    style: function (feature) {
                        return style1[feature.getGeometry().getType()];
                    }
                });

                var map = new ol.Map({
                    layers: [raster, vector],
                    target: document.getElementById('fixed'),
                    view: new ol.View({
                        center: ol.proj.transform([@lon, @lat], 'EPSG:4326', 'EPSG:3857'),
                        zoom: 12
                    })
                });
        </script>


    </body>

</html>