@(status: String, s: storage.Statistics)

<!DOCTYPE html>
<html>

    <head>

        <link rel="stylesheet" type="text/css" href="/assets/stylesheets/results.css">
        <link rel="stylesheet" type="text/css" href="/assets/stylesheets/general.css">
        <script src="/assets/javascripts/jquery-1.9.0.min.js"></script>
        <script src="https://openlayers.org/en/v4.5.0/build/ol.js"></script>

        <title>Results</title>
    </head>

    <body>
        <h4>@status</h4>
        <p> Number of points initially: @(f"${s.pointsTotal}%.0f")<br>
        @(f"${s.pointsDeleted}%.0f") points have been deleted.
            Download updated file <a href = "/download" download = yourResult.gpx> here </a>
        </p>

        <!--map rendering is based on the following example
        https://openlayers.org/en/latest/examples/gpx.html -->

        <div id="original" class="map">
            <h3>Original</h3>
            length = @(f"${s.lenSource}%.2f") km
        </div>

        <div id="fixed" class="map">
            <h3>Fixed</h3>
            length = @(f"${s.lenResult}%.2f") km
        </div>

        <br>
        <a href = "/">Try again</a>



        <script type="text/javascript" data-lon_source = "@s.lon" data-lat_source = "@s.lat" src = "/assets/javascripts/map-source.js">
        </script>

        <script type="text/javascript" data-lon_result = "@s.lon" data-lat_result = "@s.lat" src = "/assets/javascripts/map-result.js">
        </script>

    </body>

</html>